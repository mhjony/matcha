{"ast":null,"code":"var _jsxFileName = \"/goinfre/mhasan/matcha/frontend/src/components/Signup.js\";\nimport React, { Fragment, useState, useRef, useEffect } from \"react\";\n\nconst Signup = () => {\n  const [name, setName] = useState(\"\");\n  const [username, setUsername] = useState(\"\");\n  const [email, setEmail] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n  const [cpassword, setCpassword] = useState(\"\");\n  const verified = 0; //const token = \"newtoken08989today\"\n\n  const recieveEmail = 0;\n  const firstRender = useRef(true);\n  const [disable, setDisable] = useState(true);\n  const [error, setError] = useState(\"\"); //\n\n  const rand = () => Math.random(0).toString(36).substr(2);\n\n  const token = length => (rand() + rand() + rand() + rand()).substr(0, length);\n\n  console.log(token(40)); //\n\n  useEffect(() => {\n    if (firstRender.current) {\n      firstRender.current = false;\n      return;\n    }\n\n    setDisable(inputValidation());\n  }, [name, username, email, password]); // eslint-disable-line react-hooks/exhaustive-deps\n\n  const inputValidation = () => {\n    if (name === \"\" || username === \"\" || email === \"\" || password === \"\") {\n      if (name === \"\") {\n        setError(\"Name field cant be empty\");\n        return true;\n      }\n\n      if (username === \"\") {\n        setError(\"Username field cant be empty\");\n        return true;\n      }\n\n      if (email === \"\") {\n        setError(\"Email field cant be empty\");\n        return true;\n      }\n\n      if (password === \"\") {\n        setError(\"Password field cant be empty\");\n        return true;\n      }\n    } else {\n      setError(null);\n      return false;\n    }\n  };\n\n  const submitForm = async e => {\n    e.preventDefault();\n\n    if (!inputValidation()) {\n      try {\n        const response = await fetch(\"http://localhost:5000/signup\", {\n          method: \"POST\",\n          headers: {\n            \"content-type\": \"application/json\"\n          },\n          body: JSON.stringify({\n            name,\n            username,\n            email,\n            password,\n            verified,\n            token,\n            recieveEmail\n          })\n        });\n        console.log(response);\n        window.location = \"/\";\n      } catch (err) {\n        console.error(err.message);\n      }\n    } else {\n      alert({\n        error\n      });\n    }\n  };\n\n  return /*#__PURE__*/React.createElement(Fragment, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 3\n    }\n  }, /*#__PURE__*/React.createElement(\"h2\", {\n    className: \"text-center mt-3\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 4\n    }\n  }, \"Signup Form\"), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"row justify-content-center align-items-center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 4\n    }\n  }, /*#__PURE__*/React.createElement(\"form\", {\n    className: \"text-center mt-3 col-md-6 col-sm-6 col-lg-4 col-xs-8\",\n    onSubmit: submitForm,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"form-group\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 6\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    className: \"form-control\",\n    type: \"text\",\n    name: \"name\",\n    value: name,\n    onChange: e => setName(e.target.value),\n    placeholder: \"Full Name\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 7\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"form-group mt-3\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 6\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    className: \"form-control\",\n    type: \"text\",\n    name: \"username\",\n    value: username,\n    onChange: e => setUsername(e.target.value),\n    placeholder: \"Username\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 7\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"form-group mt-3\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 101,\n      columnNumber: 6\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    className: \"form-control\",\n    type: \"text\",\n    name: \"email\",\n    value: email,\n    onChange: e => setEmail(e.target.value),\n    placeholder: \"Email\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 102,\n      columnNumber: 7\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"form-group mt-3\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 110,\n      columnNumber: 6\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    className: \"form-control\",\n    type: \"password\",\n    name: \"password\",\n    value: password,\n    onChange: e => setPassword(e.target.value),\n    placeholder: \"Password\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 111,\n      columnNumber: 7\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"form-group mt-3\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 119,\n      columnNumber: 6\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    className: \"form-control\",\n    type: \"password\",\n    name: \"cpassword\",\n    value: cpassword,\n    onChange: e => setCpassword(e.target.value),\n    placeholder: \"Confirm password\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 120,\n      columnNumber: 7\n    }\n  })), /*#__PURE__*/React.createElement(\"button\", {\n    className: \"btn btn-success mt-3\",\n    disabled: disable,\n    type: \"submit\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 128,\n      columnNumber: 6\n    }\n  }, \"Register\"))));\n};\n\nexport default Signup;","map":{"version":3,"sources":["/goinfre/mhasan/matcha/frontend/src/components/Signup.js"],"names":["React","Fragment","useState","useRef","useEffect","Signup","name","setName","username","setUsername","email","setEmail","password","setPassword","cpassword","setCpassword","verified","recieveEmail","firstRender","disable","setDisable","error","setError","rand","Math","random","toString","substr","token","length","console","log","current","inputValidation","submitForm","e","preventDefault","response","fetch","method","headers","body","JSON","stringify","window","location","err","message","alert","target","value"],"mappings":"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","sourcesContent":["import React, { Fragment, useState, useRef, useEffect } from \"react\";\n\nconst Signup = () => {\n\tconst [name, setName] = useState(\"\");\n\tconst [username, setUsername] = useState(\"\");\n\tconst [email, setEmail] = useState(\"\");\n\tconst [password, setPassword] = useState(\"\");\n\tconst [cpassword, setCpassword] = useState(\"\");\n\tconst verified = 0;\n\t//const token = \"newtoken08989today\"\n\tconst recieveEmail = 0\n\n\tconst firstRender = useRef(true);\n\tconst [disable, setDisable] = useState(true);\n\tconst [error, setError] = useState(\"\");\n\n\t//\n\tconst rand=()=>Math.random(0).toString(36).substr(2);\n\tconst token=(length)=>(rand()+rand()+rand()+rand()).substr(0,length);\n\n\tconsole.log(token(40));\n\t//\n\n\tuseEffect(() => {\n\t\tif (firstRender.current){\n\t\t\tfirstRender.current = false;\n\t\t\treturn\n\t\t}\n\t\tsetDisable(inputValidation());\n\t}, [name, username, email, password]) // eslint-disable-line react-hooks/exhaustive-deps\n\n\tconst inputValidation = () => {\n\t\tif (name === \"\" || username === \"\" || email === \"\" || password === \"\")\n\t\t{\n\t\t\tif (name === \"\"){\n\t\t\t\tsetError(\"Name field cant be empty\")\n\t\t\t\treturn true\n\t\t\t}\n\t\t\tif (username === \"\"){\n\t\t\t\tsetError(\"Username field cant be empty\")\n\t\t\t\treturn true\n\t\t\t}\n\t\t\tif (email === \"\"){\n\t\t\t\tsetError(\"Email field cant be empty\")\n\t\t\t\treturn true\n\t\t\t}\n\t\t\tif (password === \"\"){\n\t\t\t\tsetError(\"Password field cant be empty\")\n\t\t\t\treturn true\n\t\t\t}\n\t\t}\n\t\telse {\n\t\t\tsetError(null);\n\t\t\treturn false;\n\t\t}\n\t}\n\n\tconst submitForm = async e => {\n\t\te.preventDefault();\n\t\tif (!inputValidation())\n\t\t{\n\t\t\ttry {\n\t\t\t\tconst response = await fetch(\"http://localhost:5000/signup\", {\n\t\t\t\t\tmethod: \"POST\",\n\t\t\t\t\theaders: {\"content-type\": \"application/json\"},\n\t\t\t\t\tbody: JSON.stringify({name, username, email, password, verified, token, recieveEmail})\n\t\t\t\t})\n\t\t\t\tconsole.log(response);\n\t\t\t\twindow.location = \"/\";\n\t\t\t}catch(err){\n\t\t\t\tconsole.error(err.message);\n\t\t\t}\n\t\t}\n\t\telse{\n\t\t\talert({error})\n\t\t}\n\t}\n\treturn (\n\t\t<Fragment>\n\t\t\t<h2 className=\"text-center mt-3\">Signup Form</h2>\n\t\t\t<div className=\"row justify-content-center align-items-center\">\n\t\t\t\t<form className=\"text-center mt-3 col-md-6 col-sm-6 col-lg-4 col-xs-8\" onSubmit={submitForm}>\n\t\t\t\t\t<div className=\"form-group\">\n\t\t\t\t\t\t<input className=\"form-control\"\n\t\t\t\t\t\t\ttype=\"text\" \n\t\t\t\t\t\t\tname=\"name\"\n\t\t\t\t\t\t\tvalue={name}\n\t\t\t\t\t\t\tonChange={e => setName(e.target.value)} \n\t\t\t\t\t\t\tplaceholder=\"Full Name\" \n\t\t\t\t\t\t/>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className=\"form-group mt-3\">\n\t\t\t\t\t\t<input className=\"form-control\"\n\t\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\t\tname=\"username\" \n\t\t\t\t\t\t\tvalue={username}\n\t\t\t\t\t\t\tonChange={e => setUsername(e.target.value)}\n\t\t\t\t\t\t\tplaceholder=\"Username\" \n\t\t\t\t\t\t/>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className=\"form-group mt-3\">\n\t\t\t\t\t\t<input className=\"form-control\"\n\t\t\t\t\t\t\ttype=\"text\" \n\t\t\t\t\t\t\tname=\"email\"\n\t\t\t\t\t\t\tvalue={email}\n\t\t\t\t\t\t\tonChange={e => setEmail(e.target.value)}\n\t\t\t\t\t\t\tplaceholder=\"Email\"\n\t\t\t\t\t\t/>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className=\"form-group mt-3\">\n\t\t\t\t\t\t<input className=\"form-control\"\n\t\t\t\t\t\t\ttype=\"password\"\n\t\t\t\t\t\t\tname=\"password\"\n\t\t\t\t\t\t\tvalue={password}\n\t\t\t\t\t\t\tonChange={e => setPassword(e.target.value)}\n\t\t\t\t\t\t\tplaceholder=\"Password\"\n\t\t\t\t\t\t/>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className=\"form-group mt-3\">\n\t\t\t\t\t\t<input className=\"form-control\"\n\t\t\t\t\t\t\ttype=\"password\"\n\t\t\t\t\t\t\tname=\"cpassword\"\n\t\t\t\t\t\t\tvalue={cpassword}\n\t\t\t\t\t\t\tonChange={e => setCpassword(e.target.value)}\n\t\t\t\t\t\t\tplaceholder=\"Confirm password\"\n\t\t\t\t\t\t/>\n\t\t\t\t\t</div>\n\t\t\t\t\t<button className=\"btn btn-success mt-3\" disabled={disable} type=\"submit\">Register</button>\n\t\t\t\t</form>\n\t\t\t</div>\n\t\t</Fragment>\n\t)\n}\n\nexport default Signup;"]},"metadata":{},"sourceType":"module"}