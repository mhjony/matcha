{"ast":null,"code":"import _regeneratorRuntime from\"/goinfre/mhasan/matcha/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/goinfre/mhasan/matcha/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/goinfre/mhasan/matcha/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{Fragment,useState,useRef,useEffect}from\"react\";var Signup=function Signup(){var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),name=_useState2[0],setName=_useState2[1];var _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),username=_useState4[0],setUsername=_useState4[1];var _useState5=useState(\"\"),_useState6=_slicedToArray(_useState5,2),email=_useState6[0],setEmail=_useState6[1];var _useState7=useState(\"\"),_useState8=_slicedToArray(_useState7,2),password=_useState8[0],setPassword=_useState8[1];var _useState9=useState(\"\"),_useState10=_slicedToArray(_useState9,2),cpassword=_useState10[0],setCpassword=_useState10[1];var verified=0;var token=\"newtoken08989today\";var recieveEmail=0;var firstRender=useRef(true);var _useState11=useState(true),_useState12=_slicedToArray(_useState11,2),disable=_useState12[0],setDisable=_useState12[1];var _useState13=useState(\"\"),_useState14=_slicedToArray(_useState13,2),error=_useState14[0],setError=_useState14[1];useEffect(function(){if(firstRender.current){firstRender.current=false;return;}setDisable(inputValidation());},[name]);// eslint-disable-line react-hooks/exhaustive-deps\nvar inputValidation=function inputValidation(){if(name===\"\"){setError(\"Name field cant be empty\");return true;}else{setError(null);return false;}};var submitForm=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(e){var response;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:e.preventDefault();_context.prev=1;_context.next=4;return fetch(\"http://localhost:5000/signup\",{method:\"POST\",headers:{\"content-type\":\"application/json\"},body:JSON.stringify({name:name,username:username,email:email,password:password,verified:verified,token:token,recieveEmail:recieveEmail})});case 4:response=_context.sent;console.log(response);window.location=\"/\";_context.next=12;break;case 9:_context.prev=9;_context.t0=_context[\"catch\"](1);console.error(_context.t0.message);case 12:case\"end\":return _context.stop();}}},_callee,null,[[1,9]]);}));return function submitForm(_x){return _ref.apply(this,arguments);};}();return/*#__PURE__*/React.createElement(Fragment,null,/*#__PURE__*/React.createElement(\"h2\",{className:\"text-center mt-3\"},\"Signup Form\"),/*#__PURE__*/React.createElement(\"div\",{className:\"row justify-content-center align-items-center\"},/*#__PURE__*/React.createElement(\"form\",{className:\"text-center mt-3 col-md-6 col-sm-6 col-lg-4 col-xs-8\",onSubmit:submitForm},/*#__PURE__*/React.createElement(\"div\",{className:\"form-group\"},/*#__PURE__*/React.createElement(\"input\",{className:\"form-control\",type:\"text\",name:\"name\",value:name,onChange:function onChange(e){return setName(e.target.value);},placeholder:\"Full Name\"}),error),/*#__PURE__*/React.createElement(\"div\",{className:\"form-group mt-3\"},/*#__PURE__*/React.createElement(\"input\",{className:\"form-control\",type:\"text\",name:\"username\",value:username,onChange:function onChange(e){return setUsername(e.target.value);},placeholder:\"Username\"})),/*#__PURE__*/React.createElement(\"div\",{className:\"form-group mt-3\"},/*#__PURE__*/React.createElement(\"input\",{className:\"form-control\",type:\"text\",name:\"email\",value:email,onChange:function onChange(e){return setEmail(e.target.value);},placeholder:\"Email\"})),/*#__PURE__*/React.createElement(\"div\",{className:\"form-group mt-3\"},/*#__PURE__*/React.createElement(\"input\",{className:\"form-control\",type:\"password\",name:\"password\",value:password,onChange:function onChange(e){return setPassword(e.target.value);},placeholder:\"Password\"})),/*#__PURE__*/React.createElement(\"div\",{className:\"form-group mt-3\"},/*#__PURE__*/React.createElement(\"input\",{className:\"form-control\",type:\"password\",name:\"cpassword\",value:cpassword,onChange:function onChange(e){return setCpassword(e.target.value);},placeholder:\"Confirm password\"})),/*#__PURE__*/React.createElement(\"button\",{className:\"btn btn-success mt-3\",disabled:disable,type:\"submit\"},\"Register\"))));};export default Signup;","map":{"version":3,"sources":["/goinfre/mhasan/matcha/frontend/src/components/Signup.js"],"names":["React","Fragment","useState","useRef","useEffect","Signup","name","setName","username","setUsername","email","setEmail","password","setPassword","cpassword","setCpassword","verified","token","recieveEmail","firstRender","disable","setDisable","error","setError","current","inputValidation","submitForm","e","preventDefault","fetch","method","headers","body","JSON","stringify","response","console","log","window","location","message","target","value"],"mappings":"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","sourcesContent":["import React, { Fragment, useState, useRef, useEffect } from \"react\";\n\nconst Signup = () => {\n\tconst [name, setName] = useState(\"\");\n\tconst [username, setUsername] = useState(\"\");\n\tconst [email, setEmail] = useState(\"\");\n\tconst [password, setPassword] = useState(\"\");\n\tconst [cpassword, setCpassword] = useState(\"\");\n\tconst verified = 0;\n\tconst token = \"newtoken08989today\"\n\tconst recieveEmail = 0\n\n\tconst firstRender = useRef(true);\n\tconst [disable, setDisable] = useState(true);\n\tconst [error, setError] = useState(\"\");\n\n\tuseEffect(() => {\n\t\tif (firstRender.current){\n\t\t\tfirstRender.current = false;\n\t\t\treturn\n\t\t}\n\t\tsetDisable(inputValidation());\n\t}, [name]) // eslint-disable-line react-hooks/exhaustive-deps\n\n\tconst inputValidation = () => {\n\t\tif (name === \"\"){\n\t\t\tsetError(\"Name field cant be empty\")\n\t\t\treturn true\n\t\t}else {\n\t\t\tsetError(null);\n\t\t\treturn false;\n\t\t}\n\t}\n\n\tconst submitForm = async e => {\n\t\te.preventDefault();\n\t\ttry {\n\t\t\tconst response = await fetch(\"http://localhost:5000/signup\", {\n\t\t\t\tmethod: \"POST\",\n\t\t\t\theaders: {\"content-type\": \"application/json\"},\n\t\t\t\tbody: JSON.stringify({name, username, email, password, verified, token, recieveEmail})\n\t\t\t})\n\t\t\tconsole.log(response);\n\t\t\twindow.location = \"/\";\n\t\t}catch(err){\n\t\t\tconsole.error(err.message);\n\t\t}\n\t}\n\treturn (\n\t\t<Fragment>\n\t\t\t<h2 className=\"text-center mt-3\">Signup Form</h2>\n\t\t\t<div className=\"row justify-content-center align-items-center\">\n\t\t\t\t<form className=\"text-center mt-3 col-md-6 col-sm-6 col-lg-4 col-xs-8\" onSubmit={submitForm}>\n\t\t\t\t\t<div className=\"form-group\">\n\t\t\t\t\t\t<input className=\"form-control\"\n\t\t\t\t\t\t\ttype=\"text\" \n\t\t\t\t\t\t\tname=\"name\"\n\t\t\t\t\t\t\tvalue={name}\n\t\t\t\t\t\t\tonChange={e => setName(e.target.value)} \n\t\t\t\t\t\t\tplaceholder=\"Full Name\" \n\t\t\t\t\t\t/>\n\t\t\t\t\t\t{error}\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className=\"form-group mt-3\">\n\t\t\t\t\t\t<input className=\"form-control\"\n\t\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\t\tname=\"username\" \n\t\t\t\t\t\t\tvalue={username}\n\t\t\t\t\t\t\tonChange={e => setUsername(e.target.value)}\n\t\t\t\t\t\t\tplaceholder=\"Username\" \n\t\t\t\t\t\t/>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className=\"form-group mt-3\">\n\t\t\t\t\t\t<input className=\"form-control\"\n\t\t\t\t\t\t\ttype=\"text\" \n\t\t\t\t\t\t\tname=\"email\"\n\t\t\t\t\t\t\tvalue={email}\n\t\t\t\t\t\t\tonChange={e => setEmail(e.target.value)}\n\t\t\t\t\t\t\tplaceholder=\"Email\"\n\t\t\t\t\t\t/>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className=\"form-group mt-3\">\n\t\t\t\t\t\t<input className=\"form-control\"\n\t\t\t\t\t\t\ttype=\"password\"\n\t\t\t\t\t\t\tname=\"password\"\n\t\t\t\t\t\t\tvalue={password}\n\t\t\t\t\t\t\tonChange={e => setPassword(e.target.value)}\n\t\t\t\t\t\t\tplaceholder=\"Password\"\n\t\t\t\t\t\t/>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className=\"form-group mt-3\">\n\t\t\t\t\t\t<input className=\"form-control\"\n\t\t\t\t\t\t\ttype=\"password\"\n\t\t\t\t\t\t\tname=\"cpassword\"\n\t\t\t\t\t\t\tvalue={cpassword}\n\t\t\t\t\t\t\tonChange={e => setCpassword(e.target.value)}\n\t\t\t\t\t\t\tplaceholder=\"Confirm password\"\n\t\t\t\t\t\t/>\n\t\t\t\t\t</div>\n\t\t\t\t\t<button className=\"btn btn-success mt-3\" disabled={disable} type=\"submit\">Register</button>\n\t\t\t\t</form>\n\t\t\t</div>\n\t\t</Fragment>\n\t)\n}\n\nexport default Signup;"]},"metadata":{},"sourceType":"module"}